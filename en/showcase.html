<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>AdIA – Showcase</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Tailwind / site styles -->
  <link rel="stylesheet" href="assets/styles.css" />
</head>

<body class="bg-black text-white">

  <!-- ================= SHOWCASE ================= -->
  <section class="max-w-7xl mx-auto px-6 pt-32 pb-28">
    <div class="mb-14">
      <p class="eyebrow">Showcaset</p>
      <h1 class="text-5xl md:text-6xl font-extrabold tracking-tight">
        From prompt to <span class="text-cyan-400">production</span>
      </h1>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-3 gap-8">

      <!-- VIDEO 1 -->
      <div
        class="js-videoCard cursor-pointer"
        data-video-src="hero-reel.mp4"
        data-video-title="Hero Reel"
      >
        <div class="rounded-2xl overflow-hidden border border-white/10">
          <video autoplay loop muted playsinline class="w-full h-full object-cover pointer-events-none">
            <source src="hero-reel.mp4" type="video/mp4" />
          </video>
        </div>
        <p class="mt-3 text-sm text-white/70">Hero Reel</p>
      </div>

      <!-- VIDEO 2 -->
      <div
        class="js-videoCard cursor-pointer"
        data-video-src="video-02.mp4"
        data-video-title="Campaign Example"
      >
        <div class="rounded-2xl overflow-hidden border border-white/10">
          <video autoplay loop muted playsinline class="w-full h-full object-cover pointer-events-none">
            <source src="video-02.mp4" type="video/mp4" />
          </video>
        </div>
        <p class="mt-3 text-sm text-white/70">Campaign Example</p>
      </div>

      <!-- VIDEO 3 -->
      <div
        class="js-videoCard cursor-pointer"
        data-video-src="video-03.mp4"
        data-video-title="Social Assets"
      >
        <div class="rounded-2xl overflow-hidden border border-white/10">
          <video autoplay loop muted playsinline class="w-full h-full object-cover pointer-events-none">
            <source src="video-03.mp4" type="video/mp4" />
          </video>
        </div>
        <p class="mt-3 text-sm text-white/70">Social Assets</p>
      </div>

    </div>
  </section>

  <!-- ================= VIDEO MODAL ================= -->
  <div
    id="videoModal"
    class="fixed inset-0 z-[999] hidden items-center justify-center bg-black/70 backdrop-blur-sm"
  >
    <div class="relative w-full max-w-5xl mx-auto px-6">
      <button
        id="closeModal"
        class="absolute -top-10 right-0 text-sm text-white/70 hover:text-white"
      >
        Close ✕
      </button>

      <div class="bg-black rounded-2xl overflow-hidden border border-white/10 shadow-2xl">
        <div class="px-6 py-4 border-b border-white/10 flex justify-between">
          <p class="font-semibold" id="modalTitle">Video</p>
          <p class="text-xs text-white/50">Press ESC to close</p>
        </div>

        <div class="aspect-video bg-black">
          <video
            id="modalVideo"
            class="w-full h-full object-contain"
            controls
            playsinline
          ></video>
        </div>
      </div>
    </div>
  </div>

  <!-- ================= SCRIPT ================= -->
  <script>
    (function () {
      const modal = document.getElementById("videoModal");
      const modalVideo = document.getElementById("modalVideo");
      const modalTitle = document.getElementById("modalTitle");
      const closeBtn = document.getElementById("closeModal");

      function openModal(src, title) {
        modalTitle.textContent = title || "Video";

        // Reset cleanly
        modalVideo.pause();
        modalVideo.removeAttribute("src");
        modalVideo.querySelectorAll("track").forEach(t => t.remove());
        modalVideo.load();

        modal.classList.remove("hidden");
        modal.classList.add("flex");
        document.body.classList.add("overflow-hidden");

        modalVideo.src = src;
        modalVideo.muted = false;
        modalVideo.volume = 1;

        // ✅ Subtitles ONLY for hero-reel.mp4
        if (src === "hero-reel.mp4") {
          const track = document.createElement("track");
          track.kind = "subtitles";
          track.srclang = "en";
          track.label = "English";
          track.src = "hero-reel.en.vtt";
          track.default = true;
          modalVideo.appendChild(track);

          modalVideo.addEventListener(
            "loadedmetadata",
            () => {
              try {
                for (const t of modalVideo.textTracks) {
                  t.mode = "showing";
                }
              } catch (e) {}
            },
            { once: true }
          );
        }

        setTimeout(() => {
          modalVideo.play().catch(() => {});
        }, 50);
      }

      function closeModal() {
        modal.classList.add("hidden");
        modal.classList.remove("flex");
        document.body.classList.remove("overflow-hidden");
        modalVideo.pause();
        modalVideo.removeAttribute("src");
        modalVideo.load();
      }

      document.querySelectorAll(".js-videoCard").forEach(card => {
        card.addEventListener("click", () => {
          openModal(
            card.getAttribute("data-video-src"),
            card.getAttribute("data-video-title")
          );
        });
      });

      closeBtn.addEventListener("click", closeModal);

      modal.addEventListener("click", e => {
        if (e.target === modal) closeModal();
      });

      window.addEventListener("keydown", e => {
        if (e.key === "Escape") closeModal();
      });
    })();
  </script>

</body>
</html>
